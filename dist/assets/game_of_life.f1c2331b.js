import{r as e}from"./vendor.c7c40071.js";let t,n=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});n.decode();let r=null;function a(e,a){return n.decode((null!==r&&r.buffer===t.memory.buffer||(r=new Uint8Array(t.memory.buffer)),r).subarray(e,e+a))}let i=null;function s(){return null!==i&&i.buffer===t.memory.buffer||(i=new Int32Array(t.memory.buffer)),i}Object.freeze({Alive:1,1:"Alive",Dead:0,0:"Dead"});class o{static __wrap(e){const t=Object.create(o.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();t.__wbg_universe_free(e)}tick(){t.universe_tick(this.ptr)}static new(){var e=t.universe_new();return o.__wrap(e)}render(){try{const r=t.__wbindgen_add_to_stack_pointer(-16);t.universe_render(r,this.ptr);var e=s()[r/4+0],n=s()[r/4+1];return a(e,n)}finally{t.__wbindgen_add_to_stack_pointer(16),t.__wbindgen_free(e,n)}}}async function c(e){void 0===e&&(e=new URL("assets/rsw~game-of-life_bg.d85012e0.wasm",location.origin));const n={wbg:{}};n.wbg.__wbindgen_throw=function(e,t){throw new Error(a(e,t))},("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:i}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,n);return t=r.exports,c.__wbindgen_wasm_module=i,t}function f(){const t=e.useRef(null);return e.useEffect((()=>{(async()=>{await c();const e=o.new(),n=()=>{t.current&&(t.current.textContent=e.render(),e.tick(),requestAnimationFrame(n))};n()})()}),[]),e.createElement("div",{className:"game-of-life-page"},e.createElement("pre",{ref:t,id:"game-of-life"}))}export default f;
