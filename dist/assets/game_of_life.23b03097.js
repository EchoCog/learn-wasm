import{r as e}from"./vendor.c7c40071.js";let t,n=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});n.decode();let r=null;function i(e,i){return n.decode((null!==r&&r.buffer===t.memory.buffer||(r=new Uint8Array(t.memory.buffer)),r).subarray(e,e+i))}Object.freeze({Alive:1,1:"Alive",Dead:0,0:"Dead"});class o{static __wrap(e){const t=Object.create(o.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();t.__wbg_universe_free(e)}tick(){t.universe_tick(this.ptr)}static new(){var e=t.universe_new();return o.__wrap(e)}width(){return t.universe_width(this.ptr)>>>0}height(){return t.universe_height(this.ptr)>>>0}cells(){return t.universe_cells(this.ptr)}}async function s(e){void 0===e&&(e=new URL("assets/rsw~game-of-life_bg.806068ff.wasm",location.origin));const n={};var r;n.wbg={},n.wbg.__wbg_random_69f01e50b30c8d0a="function"==typeof Math.random?Math.random:(r="Math.random",()=>{throw new Error(`${r} is not defined`)}),n.wbg.__wbindgen_throw=function(e,t){throw new Error(i(e,t))},("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:o,module:a}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if("application/wasm"==e.headers.get("Content-Type"))throw n;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,n);return t=o.exports,s.__wbindgen_wasm_module=a,t}function a(){const t=e.useRef(null);return e.useEffect((()=>{(async()=>{const e=await s(),n=o.new(),r=n.width(),i=n.height();if(t.current){const o=t.current;o.width=8*r+1,o.height=8*i+1;const s=o.getContext("2d"),a=()=>{n.tick(),function({ctx:e,width:t,height:n}){e.beginPath(),e.strokeStyle="#D2D2D2";for(let r=0;r<=t;r++)e.moveTo(8*r+1,0),e.lineTo(8*r+1,8*n+1);for(let r=0;r<=n;r++)e.moveTo(0,8*r+1),e.lineTo(8*t+1,8*r+1);e.stroke()}({ctx:s,width:r,height:i}),function({universe:e,ctx:t,memory:n,width:r,height:i}){const o=e.cells(),s=new Uint8Array(n.buffer,o,r*i/8);t.beginPath();for(let a=0;a<i;a++)for(let e=0;e<r;e++){const n=c({row:a,column:e,width:r});t.fillStyle=f(n,s)?"#000000":"#FFFFFF",t.fillRect(8*e+1,8*a+1,7,7)}t.stroke()}({universe:n,ctx:s,width:r,height:i,memory:e.memory}),requestAnimationFrame(a)};a()}})()}),[]),e.createElement("div",{className:"game-of-life-page"},e.createElement("canvas",{ref:t,id:"game-of-life-canvas"}))}function c({row:e,width:t,column:n}){return e*t+n}function f(e,t){const n=1<<e%8;return(t[Math.floor(e/8)]&n)===n}export default a;
